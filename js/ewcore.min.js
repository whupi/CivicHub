/*!
 * Core JavaScript for PHPMaker v2022.11.0
 * Copyright (c) e.World Technology Limited. All rights reserved.
 */
var ew=function(){"use strict";var e=function(){},t={},n={},r={};function i(e,t){if(e){var i=r[e];if(n[e]=t,i)for(;i.length;)i[0](e,t),i.splice(0,1)}}function o(t,n){t.call&&(t={success:t}),n.length?(t.error||e)(n):(t.success||e)(t)}function l(t,n,r,i){var o,s=document,a=r.async,u=(r.numRetries||0)+1,c=r.before||e,d=t.replace(/[\?|#].*$/,""),p=t.replace(/^(css|img)!/,"");i=i||0,/(^css!|\.css$)/.test(d)?((o=s.createElement("link")).rel="stylesheet",o.href=p):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(d)?(o=s.createElement("img")).src=p:((o=s.createElement("script")).src=t,o.async=void 0===a||a),o.onload=o.onerror=o.onbeforeload=function(e){var s=e.type[0];if("e"==s){if((i+=1)<u)return l(t,n,r,i)}else if("preload"==o.rel&&"style"==o.as)return o.rel="stylesheet";n(t,s,e.defaultPrevented)},!1!==c(t,o)&&"IMG"!=o.tagName&&s.head.appendChild(o)}function s(e,n,r){var s,a;if(n&&n.trim&&(s=n),a=(s?r:n)||{},s){if(s in t)throw"LoadJS";t[s]=!0}function u(t,n){!function(e,t,n){var r,i,o=(e=e.push?e:[e]).length,s=o,a=[];for(r=function(e,n,r){if("e"==n&&a.push(e),"b"==n){if(!r)return;a.push(e)}--o||t(a)},i=0;i<s;i++)l(e[i],r,n)}(e,(function(e){o(a,e),t&&o({success:t,error:n},e),i(s,e)}),a)}if(a.returnPromise)return new Promise(u);u()}s.ready=function(e,t){return function(e,t){e=e.push?e:[e];var i,o,l,s=[],a=e.length,u=a;for(i=function(e,n){n.length&&s.push(e),--u||t(s)};a--;)o=e[a],(l=n[o])?i(o,l):(r[o]=r[o]||[]).push(i)}(e,(function(e){o(t,e)})),s},s.done=function(e){i(e,[])},s.reset=function(){t={},n={},r={}},s.isDefined=function(e){return e in t};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e,t,n){return f=p()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&c(i,n.prototype),i},f.apply(null,arguments)}function h(e){var t="function"==typeof Map?new Map:void 0;return h=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return f(e,arguments,d(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,e)},h(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g=function(e,t,n){this.value=String(e),this.text=String(t),this.selected=!!n},y=function(e){var t,n;function r(){var t;return m(u(t=e.call(this)||this),"containerClass","d-sm-table"),m(u(t),"rowClass","d-sm-table-row"),m(u(t),"cellClass","d-sm-table-cell"),m(u(t),"options",[]),t._internals=t.attachInternals(),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n);var i,o,l,s=r.prototype;return s.connectedCallback=function(){let e=this.getAttribute("value")||"",t=this.multiple?e.split(ew.MULTIPLE_OPTION_SEPARATOR):[e];for(let e of t)this.add(e,"",!0)},s.add=function(e,t,n){let r=new g(e,t,n),i=this.options.findIndex((t=>t.value==e));i>-1?this.options[i]=r:this.options.push(r)},s.remove=function(e){this.options[e]&&this.options.splice(e,1)},s.removeAll=function(){this.options.splice(0)},s.clear=function(){for(let e of this.options)e.selected=!1;this.render()},s.getRandom=function(){return Math.floor(899999*Math.random())+1e5},s.triggerChange=function(){const e=new Event("change",{view:window,bubbles:!0,cancelable:!1});this.dispatchEvent(e)},s.isInvalid=function(e){return/\bis-invalid\b/.test(e)},s.attributeChangedCallback=function(e,t,n){if("class"==e){if(this.targetId&&this.isInvalid(t)!=this.isInvalid(n)){let e=document.getElementById(this.targetId).querySelectorAll("input"),t=this.isInvalid(n);Array.prototype.forEach.call(e,(e=>e.classList.toggle("is-invalid",t)))}}else"value"==e&&(this._internals.setFormValue(this.value),""!==this.value&&this.classList.remove("is-invalid"))},s.render=function(){let e=this.target,t=this.template;if(!e||!t||!this.list)return;for(;e.firstChild;)e.removeChild(e.firstChild);e.style.cursor="wait";let n,r=this,i=t.content,o=this.columns||1,l=document.createElement("div"),s=this.length,a="_"+this.getRandom(),u=this.classList.contains("is-invalid");l.className=this.containerClass+" ew-item-container",e.append(l);try{this.options.filter((e=>e.value)).forEach(((e,t)=>{let c=i.cloneNode(!0),d=c.querySelector("input"),p=c.querySelector("label"),f="_"+this.getRandom();d.name=d.name+("radio"==d.type?a:f),d.id=d.id+f,d.value=e.value,d.setAttribute("data-index",t),d.checked=e.selected,d.classList.add("ew-custom-option"),u&&d.classList.add("is-invalid"),d.addEventListener("click",(function(){let e=parseInt(this.getAttribute("data-index"),10);if("select-one"==r.type)for(let e of r.options)e.selected=!1;r.options[e].selected=this.checked,r.setAttribute("value",r.value),r.triggerChange()})),p.innerHTML=e.text,p.htmlFor=d.id;let h=document.createElement("div");if(h.className=this.cellClass,h.appendChild(c),t%o==0&&(n=document.createElement("div"),n.className=this.rowClass),n.append(h),t%o==o-1)l.append(n);else if(t==s-1){for(let e=t%o+1;e<o;e++){let e=document.createElement("div");e.className=this.cellClass,n.append(e)}l.append(n)}})),this.setAttribute("value",this.value)}finally{e.style.cursor="default"}},s.focus=function(){var t,n;this.list?null==(t=this.target)||null==(n=t.querySelector("input"))||n.focus():e.prototype.focus.call(this)},i=r,l=[{key:"observedAttributes",get:function(){return["class","value"]}},{key:"formAssociated",get:function(){return!0}}],(o=[{key:"form",get:function(){return this._internals.form}},{key:"name",get:function(){return this.getAttribute("name")}},{key:"targetId",get:function(){return this.getAttribute("data-bs-target")}},{key:"target",get:function(){return this.parentNode.querySelector("#"+this.targetId)}},{key:"templateId",get:function(){return this.getAttribute("data-template")}},{key:"template",get:function(){return this.parentNode.querySelector("#"+this.templateId)}},{key:"inputId",get:function(){return this.getAttribute("data-input")}},{key:"input",get:function(){return this.parentNode.querySelector("#"+this.inputId)}},{key:"list",get:function(){return this.options}},{key:"columns",get:function(){var e;if(null!=(e=ew)&&e.IS_MOBILE)return 1;{let e=this.getAttribute("data-repeatcolumn");return e?parseInt(e,10):1}}},{key:"length",get:function(){return this.options.length}},{key:"selectedIndex",get:function(){for(let e of this.options)if(e.selected)return e.index;return-1},set:function(e){let t=this.options[e];t&&(this.options.forEach((e=>e.selected=!1)),t.selected=!0,this.render())}},{key:"type",get:function(){return this.getAttribute("data-type")||this.getAttribute("type")}},{key:"multiple",get:function(){return this.hasAttribute("data-multiple")?"0"!=this.getAttribute("data-multiple"):"select-multiple"==this.type}},{key:"value",get:function(){return"select-one"==this.type||"select-multiple"==this.type?this.values.join(ew.MULTIPLE_OPTION_SEPARATOR||","):this.getAttribute("value")},set:function(e){if("select-one"==this.type)for(let t of this.options)t.selected=t.value==e;else if("select-multiple"==this.type){let n;var t;n=Array.isArray(e)?e.map((e=>null!=e?e:String(e))):(e=null!=(t=e)?t:String(e))?e.split(ew.MULTIPLE_OPTION_SEPARATOR||","):[];for(let e of this.options)e.selected=n.includes(String(e.value))}else this.setAttribute("value",e);this.render()}},{key:"values",get:function(){if("select-one"==this.type||"select-multiple"==this.type)return Array.prototype.filter.call(this.options,(e=>e.selected)).map((e=>e.value));{let e=this.getAttribute("value");return e?e.split(ew.MULTIPLE_OPTION_SEPARATOR||","):[]}}}])&&a(i.prototype,o),l&&a(i,l),r}(h(HTMLElement));window.loadjs=s,customElements.define("selection-list",y);let w,b=()=>{},v=e=>(e.element instanceof HTMLOptionElement?e.element.innerHTML:"")||e.text,A={PAGE_ID:"",RELATIVE_PATH:"",MULTIPLE_OPTION_SEPARATOR:",",GENERATE_PASSWORD_UPPERCASE:!0,GENERATE_PASSWORD_LOWERCASE:!0,GENERATE_PASSWORD_NUMBER:!0,GENERATE_PASSWORD_SPECIALCHARS:1,CONFIRM_CANCEL:!0,ROWTYPE_ADD:2,ROWTYPE_EDIT:3,UNFORMAT_YEAR:50,LAZY_LOAD_DELAY:0,AJAX_DELAY:5,LOOKUP_DELAY:250,MAX_OPTION_COUNT:3,NUMBERING_SYSTEM:"",USE_OVERLAY_SCROLLBARS:!0,Language:function(e){this.obj=e,this.phrase=function(e){return this.obj[e.toLowerCase()]}},language:null,vars:null,maps:{},addOptionDialog:null,emailDialog:null,importDialog:null,modalDialog:null,modalLookupDialog:null,ajaxBatchSize:10,autoSuggestSettings:{highlight:!0,hint:!0,minLength:1,debounce:250,delay:250,templates:{},classNames:{menu:"tt-menu dropdown-menu",input:"tt-input form-control",dataset:"tt-dataset",suggestion:"tt-suggestion dropdown-item",cursor:"tt-cursor"}},lightboxSettings:{transition:"none",photo:!0,opacity:.5},uploadOptions:{},importUploadOptions:{maxFileSize:1e7,maxNumberOfFiles:10},sweetAlertSettings:{showClass:{popup:"swal2-noanimation",backdrop:"swal2-noanimation",icon:""},hideClass:{popup:"",backdrop:"",icon:""},customClass:{container:"ew-swal2-container",popup:"ew-swal2-popup",header:"ew-swal2-header",title:"ew-swal2-title",closeButton:"ew-swal2-close-button",icon:"ew-swal2-icon",image:"ew-swal2-image",htmlContainer:"ew-swal2-html-container",content:"ew-swal2-content",input:"form-control ew-swal2-input",inputLabel:"ew-swal2-input-label",validationMessage:"ew-swal2-validation-message",actions:"ew-swal2-actions",confirmButton:"btn btn-primary ew-swal2-confirm-button",denyButton:"btn btn-danger ew-swal2-deny-button",cancelButton:"btn btn-secondary ew-swal2-cancel-button",loader:"ew-swal2-loader",footer:"ew-swal2-footer"}},selectOptions:{allowClear:!0,theme:"bootstrap5",width:"style",minimumResultsForSearch:20,escapeMarkup:e=>e,templateResult:v,templateSelection:v,debounce:250,customOption:!0,containerClass:"d-sm-table",rowClass:"d-sm-table-row",cellClass:"d-sm-table-cell text-nowrap",iconClass:"form-check-label"},selectMinimumInputLength:1,modalLookupOptions:{allowClear:!0,theme:"bootstrap5",width:"100%",escapeMarkup:e=>e,templateResult:v,templateSelection:v,closeOnSelect:!1,minimumInputLength:0,dropdownCssClass:"ew-modal-dropdown",modal:!0,debounce:250,draggableOptions:{cursor:"grabbing"}},filterOptions:{allowClear:!0,theme:"bootstrap5",width:"100%",escapeMarkup:e=>e,templateResult:v,templateSelection:v,closeOnSelect:!1,minimumInputLength:0,dropdownAutoWidth:!0,dropdownCssClass:"ew-filter-dropdown",debounce:250,customOption:!0,columns:1,multiple:!0,preventScroll:!0,containerClass:"container",rowClass:"row",cellClass:"col text-nowrap",iconClass:"form-check-label"},toastOptions:{position:"topRight"},DOMPurifyConfig:{},sanitize:function(e){return DOMPurify.sanitize(e,this.DOMPurifyConfig)},overlayScrollbarsOptions:{className:"os-theme-dark",sizeAutoCapable:!0,scrollbars:{autoHide:"leave",clickScrolling:!0}},draggableOptions:{cursor:"grabbing"},bundleIds:["dom","head"],sanitizeFn:null,PDFObjectOptions:{},chartConfig:{},spinnerClass:"spinner-border text-primary",jsRenderHelpers:{},jsRenderAttributes:["src","href","title"],autoHideSuccessMessage:!0,autoHideSuccessMessageDelay:5e3,searchOperatorChanged:b,setLanguage:b,addOptionDialogShow:b,importDialogShow:b,toggleSearchOperator:b,togglePassword:b,sort:b,selectKey:b,export:b,exportWithCharts:b,setSearchType:b,emailDialogShow:b,selectAll:b,selectAllKeys:b,submitAction:b,addGridRow:b,confirmDelete:()=>!1,deleteGridRow:()=>!1};A.initPanel=e=>{if(e.dataset.isset)return;let t="";for(let n of e.children)if(t=n.innerHTML.trim(),""!==t)break;""===t&&e.classList.add("d-none"),e.dataset.isset=!0},A.panelSelectors=[".user-panel",".ew-grid-upper-panel",".ew-grid-lower-panel",".ew-multi-column-row > * > .card > .card-header",".ew-multi-column-row > * > .card > .card-footer"],A.initPanels=e=>e.querySelectorAll(A.panelSelectors.join(",")).forEach(A.initPanel);let O=()=>{A.initPanels(document),w=requestAnimationFrame(O)};s.ready("wrapper",(()=>w=requestAnimationFrame(O))),document.addEventListener("DOMContentLoaded",(()=>{A.initPanels(document),cancelAnimationFrame(w),s.done("dom")})),A.loadjs=function(e,t,n){let r=null!=t&&t.trim?t:"";r&&"load"!=r&&!A.bundleIds.includes(r)&&A.bundleIds.push(r);let i=(r?n:t)||{};e=(e=Array.isArray(e)?e:[e]).filter((e=>e&&(!Array.isArray(e)||e.length))),i.call&&(i={success:i}),i={...i,returnPromise:!0};let o={...i},l=Promise.resolve();return delete o.success,e.forEach(((e,t,n)=>{l=t==n.length-1?l.then((()=>s(e,r||i,r?i:null).catch((e=>console.log(e))))):l.then((()=>s(e,o).catch((e=>console.log(e)))))})),l},A.ready=function(e,t,n,r){let i=null!=n&&n.trim?n:"";i&&"load"!=i&&!A.bundleIds.includes(i)&&A.bundleIds.push(i),s.ready(e,(function(){A.loadjs(t,n,r)}))},s.ready("head",(function(){A.clientScript()})),s.ready("foot",(function(){A.startupScript(),s.done("load")}));let E=function(){let e={},t=!0,n=0;!1===arguments[0]&&(t=!1,n++),"object"==typeof arguments[n]&&(e=arguments[n],n++);let r=function(n){for(let r in n)n.hasOwnProperty(r)&&("object"==typeof n[r]?e[r]=E(t,e[r],n[r]):t?e[r]=n[r]:e.hasOwnProperty(r)||(e[r]=n[r]))};for(;n<arguments.length;n++)"object"==typeof arguments[n]&&r(arguments[n]);return e};return A.deepAssign=E,A.applyTemplateId=["jsrender","makerjs"],A.renderTemplate=function(e,t){let n=jQuery,r=null!=e&&e.render?e:n(e);if(!r.render)return;let i={$template:r,data:t};n(document).trigger("rendertemplate",[i]);let o=r.render(i.data,A.jsRenderHelpers),l=i.$template.data("method"),a=i.$template.data("target");return o&&l&&a?n(o)[l](a):o&&!l&&a?n(a).html(o):!o||l||a||r.parent().append(o),s.done("template"+a),o},A.renderJsTemplates=function(e){var t;let n=jQuery,r=null!=(t=null==e?void 0:e.target)?t:document;Array.from(r.querySelectorAll(".ew-js-template")).sort(((e,t)=>(e=parseInt(e.dataset.seq,10)||0)-(t=parseInt(t.dataset.seq,10)||0))).forEach((e=>{let t=e.dataset.name,r=e.dataset.data;r&&"string"==typeof r&&(r=A.vars[r]||window[r],!r)||(t?n.render[t]||(n.templates(t,e.text),A.renderTemplate(n(e),r)):A.renderTemplate(n(e),r))}))},A}();
//# sourceMappingURL=ewcore.min.js.map