!function(e){function a(e,a){return'<div class="form-check"><input type="checkbox" class="form-check-input ew-priv" name="'+e+'" id="'+e+'" data-ew-action="select-all"><label class="form-check-label" for="'+e+'">'+ew.language.phrase("Permission"+(a||e))+"</label></div>"}e.hik.jtable.prototype._createErrorDialogDiv=function(){},e.hik.jtable.prototype._showError=function(e){ew.alert(e)},e.extend(!0,e.hik.jtable.prototype.options.messages,{serverCommunicationError:ew.language.phrase("ServerCommunicationError"),loadingMessage:ew.language.phrase("Loading"),noDataAvailable:ew.language.phrase("NoRecord")});var t,r={table:{title:'<span class="fw-normal">'+ew.language.phrase("Tables")+"</span>",display:function(e){var a=e.record;return a.table+'<input type="hidden" name="table_'+a.index+'" value="1">'},sorting:!0}};["add","delete","edit","list","lookup","view","search","import","admin"].forEach((function(e){var t,i;r[e]={title:a(e),display:(t=e,i=priv[e],function(e){var a=e.record,r=t+"_"+a.index,n=(a.permission&i)==i;return a.checked=n,'<div class="form-check"><input type="checkbox" class="form-check-input ew-priv ew-multi-select" name="'+r+'" id="'+r+'" value="'+i+'" data-index="'+a.index+'"'+(n?" checked":"")+((a.allowed&i)!=i?" disabled":"")+"></div>"}),sorting:!1}})),e(".ew-card.ew-user-priv .ew-card-body").jtable({paging:!1,sorting:!0,defaultSorting:"table ASC",fields:r,actions:{listAction:function(a,t){var r=priv.permissions.slice(0);if(a&&a.table){var i=a.table.toLowerCase();r=e.map(r,(function(e){return e.table.toLowerCase().includes(i)?e:null}))}if(t&&t.jtSorting){var n=t.jtSorting.match(/ASC$/);r.sort((function(e,a){return a.table.toLowerCase()>e.table.toLowerCase()?n?-1:1:a.table.toLowerCase()===e.table.toLowerCase()?0:a.table.toLowerCase()<e.table.toLowerCase()?n?1:-1:void 0}))}return{Result:"OK",params:Object.assign({},a,t),Records:r}}},rowInserted:function(a,t){t.row.find("input[type=checkbox]").on("click",(function(){var a=e(this),t=parseInt(a.data("index"),10),r=parseInt(a.data("value"),10);this.checked?priv.permissions[t].permission|=r:priv.permissions[t].permission^=priv.permissions[t].permission^r}))},loadingRecords:function(){this.querySelector(".jtable").classList.add("table","table-sm")},recordsLoaded:function(a,t){var r=t.serverResponse.params.jtSorting,i=e(this).find(".jtable-main-container"),n=i.find(".jtable"),o=n.find(".jtable-column-header-container:first");useFixedHeaderTable&&(tableHeight&&i.height(tableHeight),n.addClass("table-head-fixed ew-fixed-header-table"),ew.USE_OVERLAY_SCROLLBARS&&i.overlayScrollbars(ew.overlayScrollbarsOptions)),o.find(".ew-table-header-sort")[0]||o.append('<span class="ew-table-header-sort"></span>'),$sort=o.find(".ew-table-header-sort").empty(),r.match(/ASC$/)?$sort.append(ew.language.phrase("SortUp")):r.match(/DESC$/)&&$sort.append(ew.language.phrase("SortDown")),ew.initMultiSelectCheckboxes(),ew.fixLayoutHeight()}}),e("#table-name").on("keydown keypress cut paste",(function(a){t&&t.cancel(),t=e.later(200,null,(function(){e(".ew-card.ew-user-priv .ew-card-body").jtable("load",{table:e("#table-name").val()})}))})),e("#table-name").trigger("keydown")}(jQuery);
//# sourceMappingURL=userpriv.min.js.map