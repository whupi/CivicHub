{"version":3,"sources":["js\\ewdatetimepicker.js"],"names":["ew","dateTimePickerOptions","keepInvalid","createDateTimePicker","formid","id","options","includes","$","jQuery","el","getElement","sv","$input","namespace","tempusDominus","Namespace","NAME","dataKey","data","parent","Object","assign","inputGroup","isBoolean","args","form","enabled","document","trigger","$textbox","isInvalid","hasClass","attr","$btn","on","removeClass","addClass","wrap","after","tooltip","e","date","val"],"mappings":";;;;AAMAA,GAAGC,sBAAwB,CACvBC,aAAa,GAIjBF,GAAGG,qBAAuB,SAASC,EAAQC,EAAIC,GAC3C,IAAID,EAAGE,SAAS,cAAhB,CAEA,IAAIC,EAAIC,OACJC,EAAKV,GAAGW,WAAWN,EAAID,GACvBQ,EAAKZ,GAAGW,WAAW,MAAQN,EAAID,GAC/BS,EAASL,EAAEI,GAAMF,GACjBI,EAAYC,cAAcC,UAAUC,KACpCC,EAAUH,cAAcC,UAAUE,QACtC,GAAKR,IAAMG,EAAOM,KAAKD,KAAYL,EAAOO,SAASD,KAAKD,GAAxD,CAEAZ,EAAUe,OAAOC,OAAO,GAAItB,GAAGC,sBAAuBK,GACtD,IAAIiB,GAAaf,EAAEgB,UAAUlB,EAAQiB,aAAcjB,EAAQiB,kBACpDjB,EAAkB,WAEzB,IAAImB,EAAO,CAACpB,GAAMA,EAAIqB,KAAQtB,EAAQuB,SAAW,EAAMJ,WAAcA,EAAYjB,QAAWA,GAE5F,GADAE,EAAEoB,UAAUC,QAAQ,iBAAkB,CAACJ,IAClCA,EAAKE,QAAV,CAEA,IAAwB,IAApBF,EAAKF,WAAsB,CAK3B,IAAIO,EAAWjB,EACXkB,EAAYlB,EAAOmB,SAAS,cAC5B3B,EAAK,kBAAoBD,EAAS,IAAMS,EAAOoB,KAAK,MACpDC,KAAO1B,EAAE,8FACJ2B,GAAG,SAAWjB,GAAS,WACpBY,EAASM,YAAY,iBAEjCvB,EAAOwB,SAASvB,EAAY,UAAUmB,KAAK,cAAe,IAAM5B,GAC3DiC,KAAK,0BAA0BP,EAAY,cAAgB,WAAW1B,yEACtEkC,MAAML,KAAKD,KAAK,cAAe,IAAM5B,GAAI4B,KAAK,iBAAkB,mBAChEE,GAAG,SAAWjB,GAAS,WACpBY,EAASU,QAAQ,QAAQA,QAAQ,cAClCL,GAAG,QAAUjB,GAAS,WACrBY,EAASU,QAAQ,aAEzB3B,EAASA,EAAOO,SAASe,GAAG,UAAYjB,GAAS,SAASuB,GAClDA,EAAEC,MACFZ,EAASD,QAAQ,kBAIzBhB,EAAOwB,SAASnB,EAAU,UAAUe,KAAK,iBAAkB,kBAAkBA,KAAK,cAAe,IAAMpB,EAAOoB,KAAK,OAC9GE,GAAG,UAAYjB,GAAS,SAASuB,GAC1BA,EAAEC,MAAQ7B,EAAO,KAAOH,GACxBF,EAAEE,GAAIiC,IAAI9B,EAAO8B,OAAOd,QAAQ,aACrCM,GAAG,SAAWjB,GAAS,WACtBL,EAAO2B,QAAQ,QAAQA,QAAQ,cAChCL,GAAG,QAAUjB,GAAS,WACrBL,EAAO2B,QAAQ,aAG3B3B,EAAOE,cAAcU,EAAKnB","sourcesContent":["/**\r\n * Create Date/Time Picker (for PHPMaker 2022)\r\n * @license Copyright (c) e.World Technology Limited. All rights reserved.\r\n */\r\n\r\n// Global options\r\new.dateTimePickerOptions = {\r\n    keepInvalid: true\r\n};\r\n\r\n// Create date/time picker\r\new.createDateTimePicker = function(formid, id, options) {\r\n    if (id.includes(\"$rowindex$\"))\r\n        return;\r\n    var $ = jQuery,\r\n        el = ew.getElement(id, formid),\r\n        sv = ew.getElement(\"sv_\" + id, formid), // AutoSuggest\r\n        $input = $(sv || el),\r\n        namespace = tempusDominus.Namespace.NAME,\r\n        dataKey = tempusDominus.Namespace.dataKey;\r\n    if (!el || $input.data(dataKey) || $input.parent().data(dataKey))\r\n        return;\r\n    options = Object.assign({}, ew.dateTimePickerOptions, options);\r\n    var inputGroup = $.isBoolean(options.inputGroup) ? options.inputGroup : true;\r\n    delete(options.inputGroup);\r\n    // options.debug = options.debug || ew.DEBUG;\r\n    var args = {\"id\": id, \"form\": formid, \"enabled\": true, \"inputGroup\": inputGroup, \"options\": options};\r\n    $(document).trigger(\"datetimepicker\", [args]);\r\n    if (!args.enabled)\r\n        return;\r\n    if (args.inputGroup !== false) {\r\n        // <div class=\"input-group date\" id=\"{id}\" data-td-target-input=\"nearest\" data-td-target-toggle=\"nearest\">\r\n        // \t<input type=\"text\" class=\"form-control td-input\" data-target=\"#{id}\"/>\r\n        // \t<button class=\"btn btn-default\" type=\"button\" data-target=\"#{id}\" data-td-toggle=\"datetimepicker\"><i class=\"far fa-calendar-alt\"></i></button>\r\n        // </div>\r\n        var $textbox = $input,\r\n            isInvalid = $input.hasClass(\"is-invalid\"),\r\n            id = \"datetimepicker_\" + formid + \"_\" + $input.attr(\"id\");\r\n            $btn = $('<button class=\"btn btn-default\" type=\"button\"><i class=\"far fa-calendar-alt\"></i></button>')\r\n                .on(\"click.\" + dataKey, function() {\r\n                    $textbox.removeClass(\"is-invalid\");\r\n                });\r\n        $input.addClass(namespace + \"-input\").attr(\"data-target\", \"#\" + id)\r\n            .wrap(`<div class=\"input-group${isInvalid ? \" is-invalid\" : \"\"}\" id=\"${id}\" data-target-input=\"nearest\" data-td-target-toggle=\"nearest\"></div>`)\r\n            .after($btn.attr(\"data-target\", \"#\" + id).attr(`data-td-toggle`, \"datetimepicker\"))\r\n            .on(\"focus.\" + dataKey, function() {\r\n                $textbox.tooltip(\"hide\").tooltip(\"disable\");\r\n            }).on(\"blur.\" + dataKey, function() {\r\n                $textbox.tooltip(\"enable\");\r\n            });\r\n        $input = $input.parent().on(\"change.\" + dataKey, function(e) {\r\n            if (e.date)\r\n                $textbox.trigger(\"change\");\r\n        });\r\n    } else {\r\n        // <input type=\"text\" class=\"form-control td-input\" id=\"{id}\" data-td-toggle=\"datetimepicker\" data-target=\"#{id}\"/>\r\n        $input.addClass(dataKey + \"-input\").attr(`data-td-toggle`, \"datetimepicker\").attr(\"data-target\", \"#\" + $input.attr(\"id\"))\r\n            .on(\"change.\" + dataKey, function(e) {\r\n                if (e.date && $input[0] !== el)\r\n                    $(el).val($input.val()).trigger(\"change\");\r\n            }).on(\"focus.\" + dataKey, function() {\r\n                $input.tooltip(\"hide\").tooltip(\"disable\");\r\n            }).on(\"blur.\" + dataKey, function() {\r\n                $input.tooltip(\"enable\");\r\n            });\r\n    }\r\n    $input.tempusDominus(args.options);\r\n}\r\n"]}